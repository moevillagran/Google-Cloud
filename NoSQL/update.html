<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update</title>
</head>
<body>
    <form>
        <div class="container">
            <h1>Update</h1>
            <p>Please fill in this form to register users.</p>
            <hr>

            <label><b>Name</b></label>
            <input type="text" placeholder="Enter Name" name="name" id="name" required>

            <label><b>Age</b></label>
            <input type="text" placeholder="Age" name="age" id="age" required>

            <hr>
            <p>By creating an account you agree to our <a href="#">Terms & Privacy</a>.</p>

            <button type="button" id="submitData" name="submitData" class="registerbtn">Update</button>
        </div>

        <div class="container signin">
            <p>Already have an account?<a href="#"> Sign in</a>.</p>
        </div>
    </form>
    
</body>
</html>

<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.2/firebase-app.js";
    import { getFirestore, setDoc, addDoc,doc, updateDoc } from "https://www.gstatic.com/firebasejs/9.9.2/firebase-firestore.js";

    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.9.2/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
    apiKey: "AIzaSyD_X_LY9QBJVpjMFEhteEpOJY-yoznCZsQ",
    authDomain: "august-enigma-358402.firebaseapp.com",
    projectId: "august-enigma-358402",
    storageBucket: "august-enigma-358402.appspot.com",
    messagingSenderId: "1091367447844",
    appId: "1:1091367447844:web:ea3a38e55850865e6317b1",
    measurementId: "G-S40C1CZB6J"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);

    // Initialize Cloud Firestore and get a reference to the service
    const db = getFirestore(app);

    submitData.addEventListener('click', (e) => {
        
        var name = document.getElementById("name").value;
        var age = document.getElementById("age").value;
        
        updateDoc(doc(db, "Users", 'L96RIPrwE6pGg8ZSD58B'), { //Here you need to add the ID of the element to be updated
            name: name,
            age: age
        });

        alert('User updated')

    });

</script>





